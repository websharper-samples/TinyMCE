function ignore(){}function id(n){return n}function fst(n){return n[0]}function snd(n){return n[1]}function trd(n){return n[2]}IntelliFactory={Runtime:{Ctor:function(n,t){return n.prototype=t.prototype,n},Class:function(n,t,i){var u=n,f,r,e;if(t){u=new t;for(f in n)u[f]=n[f]}if(r=function(n){if(n)for(var t in n)this[t]=n[t]},r.prototype=u,i)for(e in i)r[e]=i[e];return r},Clone:function(n){var t={};for(var i in n)t[i]=n[i];return t},NewObject:function(n){for(var i={},t=0;t<n.length;t++)i[n[t][0]]=n[t][1];return i},DeleteEmptyFields:function(n,t){for(var r,i=0;i<t.length;i++)r=t[i],n[r]===void 0&&delete n[r];return n},GetOptional:function(n){return n===void 0?null:{$:1,$0:n}},SetOptional:function(n,t,i){i?n[t]=i.$0:delete n[t]},SetOrDelete:function(n,t,i){i===void 0?delete n[t]:n[t]=i},Apply:function(n,t,i){return n.apply(t,i)},Bind:function(n){return function(){return n.apply(this,arguments)}},CreateFuncWithArgs:function(n){return function(){return n(Array.prototype.slice.call(arguments))}},CreateFuncWithOnlyThis:function(n){return function(){return n(this)}},CreateFuncWithThis:function(n){return function(){return n(this).apply(null,arguments)}},CreateFuncWithThisArgs:function(n){return function(){return n(this)(Array.prototype.slice.call(arguments))}},CreateFuncWithRest:function(n,t){return function(){return t(Array.prototype.slice.call(arguments,0,n).concat([Array.prototype.slice.call(arguments,n)]))}},CreateFuncWithArgsRest:function(n,t){return function(){return t([Array.prototype.slice.call(arguments,0,n),Array.prototype.slice.call(arguments,n)])}},BindDelegate:function(n,t){var i=n.bind(t);return i.$Func=n,i.$Target=t,i},CreateDelegate:function(n){if(n.length==0)return null;if(n.length==1)return n[0];var t=function(){for(var i,t=0;t<n.length;t++)i=n[t].apply(null,arguments);return i};return t.$Invokes=n,t},CombineDelegates:function(n){for(var t,i=[],r=0;r<n.length;r++)t=n[r],t&&("$Invokes"in t?i=i.concat(t.$Invokes):i.push(t));return IntelliFactory.Runtime.CreateDelegate(i)},DelegateEqual:function(n,t){var f,e,i,r,u;if(n===t)return!0;if(n==null||t==null||(f=n.$Invokes||[n],e=t.$Invokes||[t],f.length!=e.length))return!1;for(i=0;i<f.length;i++)if(r=f[i],u=e[i],!(r===u||"$Func"in r&&"$Func"in u&&r.$Func===u.$Func&&r.$Target==u.$Target))return!1;return!0},ThisFunc:function(n){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),n.apply(null,t)}},ThisFuncOut:function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(t.shift(),t)}},ParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat([i.slice(n)]))}},ParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat(i[n]))}},ThisParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return i.unshift(this),t.apply(null,i.slice(0,n+1).concat([i.slice(n+1)]))}},ThisParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(i.shift(),i.slice(0,n).concat(i[n]))}},Curried:function(n,t,i){return i=i||[],function(r){var u=i.concat([r===void 0?null:r]);return t==1?n.apply(null,u):t==2?function(t){return n.apply(null,u.concat([t===void 0?null:t]))}:IntelliFactory.Runtime.Curried(n,t-1,u)}},Curried2:function(n){return function(t){return function(i){return n(t,i)}}},Curried3:function(n){return function(t){return function(i){return function(r){return n(t,i,r)}}}},UnionByType:function(n,t,i){for(var u,f=typeof t,r=0;r<n.length;r++)if(u=n[r],typeof u=="number"){if(Array.isArray(t)&&(u==0||t.length==u))return{$:r,$0:t}}else if(u==f)return{$:r,$0:t};if(!i)throw new Error("Type not expected for creating Choice value.");},ScriptBasePath:"./",ScriptPath:function(n,t){return this.ScriptBasePath+(this.ScriptSkipAssemblyDir?"":n+"/")+t},OnLoad:function(n){"load"in this||(this.load=[]);this.load.push(n)},Start:function(){function n(n){for(var t=0;t<n.length;t++)n[t]()}"load"in this&&(n(this.load),this.load=[])}}};IntelliFactory.Runtime.OnLoad(function(){self.WebSharper&&WebSharper.Activator&&WebSharper.Activator.Activate&&WebSharper.Activator.Activate()});Date.now||(Date.now=function(){return(new Date).getTime()});Math.trunc||(Math.trunc=function(n){return n<0?Math.ceil(n):Math.floor(n)});Object.setPrototypeOf||(Object.setPrototypeOf=function(n,t){return n.__proto__=t,n});console||(console={count:ignore,dir:ignore,error:ignore,group:ignore,groupEnd:ignore,info:ignore,log:ignore,profile:ignore,profileEnd:ignore,time:ignore,timeEnd:ignore,trace:ignore,warn:ignore});
(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ;a=self;b=a.WebSharper=a.WebSharper||{};c=b.TinyMce=b.TinyMce||{};d=c.Tests=c.Tests||{};e=d.Test=d.Test||{};f=b.Obj=b.Obj||{};g=b.Html=b.Html||{};h=g.Client=g.Client||{};i=h.Pagelet=h.Pagelet||{};j=b.Operators=b.Operators||{};k=a.EventTarget;l=a.Node;m=b.JavaScript=b.JavaScript||{};n=m.JS=m.JS||{};o=h.Tags=h.Tags||{};p=e.Formlet=e.Formlet||{};q=e.DirectBindings=e.DirectBindings||{};r=e.Plugin=e.Plugin||{};s=a.WindowOrWorkerGlobalScope;t=h.TagBuilder=h.TagBuilder||{};u=b.Formlets=b.Formlets||{};v=u.Formlet=u.Formlet||{};w=u.FormletBuilder=u.FormletBuilder||{};x=u.Controls=u.Controls||{};y=u.Enhance=u.Enhance||{};z=u.TinyMce=u.TinyMce||{};A=z.Controls=z.Controls||{};B=z.SimpleHtmlEditorConfiguration=z.SimpleHtmlEditorConfiguration||{};C=z.AdvancedHtmlEditorConfiguration=z.AdvancedHtmlEditorConfiguration||{};D=b.List=b.List||{};E=D.T=D.T||{};F=h.Operators=h.Operators||{};G=h.AttributeBuilder=h.AttributeBuilder||{};H=h.Attr=h.Attr||{};I=h.EventsPervasives=h.EventsPervasives||{};J=a.tinymce;K=J&&J.ui;L=K&&K.Control;M=K&&K.MenuItem;N=K&&K.Menu;O=K&&K.Button;P=b.Unchecked=b.Unchecked||{};Q=a.StartupCode$WebSharper_Html_Client$Html=a.StartupCode$WebSharper_Html_Client$Html||{};R=a.StartupCode$WebSharper_Formlets$Formlet=a.StartupCode$WebSharper_Formlets$Formlet||{};S=a.IntelliFactory=a.IntelliFactory||{};T=S.Formlets=S.Formlets||{};U=T.Base=T.Base||{};V=U.FormletProvider=U.FormletProvider||{};W=u.Data=u.Data||{};X=y.FormContainerConfiguration=y.FormContainerConfiguration||{};Y=z.HtmlEditorConfiguration=z.HtmlEditorConfiguration||{};Z=y.FormButtonConfiguration=y.FormButtonConfiguration||{};_0=b.Arrays=b.Arrays||{};_1=m.Pervasives=m.Pervasives||{};_2=h.Element=h.Element||{};_3=h.Implementation=h.Implementation||{};_4=_3.JQueryHtmlProvider=_3.JQueryHtmlProvider||{};_5=h.DeprecatedTagBuilder=h.DeprecatedTagBuilder||{};_6=h.Text=h.Text||{};_7=S.Reactive=S.Reactive||{};_8=_7.Reactive=_7.Reactive||{};_9=u.LayoutProvider=u.LayoutProvider||{};_=U.LayoutUtils=U.LayoutUtils||{};$=U.Validator=U.Validator||{};ba=W.ValidatorProvidor=W.ValidatorProvidor||{};bb=U.Formlet=U.Formlet||{};bc=W.Formlet=W.Formlet||{};bd=_7.HotStream=_7.HotStream||{};be=U.Form=U.Form||{};bf=u.Utils=u.Utils||{};bg=y.Padding=y.Padding||{};bh=b.Control=b.Control||{};bi=bh.FSharpEvent=bh.FSharpEvent||{};bj=z.Utils=z.Utils||{};bk=b.Seq=b.Seq||{};bl=h.Attribute=h.Attribute||{};bm=a.StartupCode$WebSharper_Html_Client$Events=a.StartupCode$WebSharper_Html_Client$Events||{};bn=b.Enumerator=b.Enumerator||{};bo=a.StartupCode$IntelliFactory_Reactive$Reactive=a.StartupCode$IntelliFactory_Reactive$Reactive||{};bp=u.Layout=u.Layout||{};bq=bp.FormRowConfiguration=bp.FormRowConfiguration||{};br=U.Tree=U.Tree||{};bs=U.Result=U.Result||{};bt=br.Edit=br.Edit||{};bu=u.Body=u.Body||{};bv=bh.Event=bh.Event||{};bw=bv.Event=bv.Event||{};bx=bn.T=bn.T||{};by=h.Events=h.Events||{};bz=by.JQueryEventSupport=by.JQueryEventSupport||{};bA=_8.Reactive=_8.Reactive||{};bB=u.ElementStore=u.ElementStore||{};bC=br.Tree=br.Tree||{};bD=b.Collections=b.Collections||{};bE=bD.List=bD.List||{};bF=b.Util=b.Util||{};bG=bD.Dictionary=bD.Dictionary||{};bH=bp.Padding=bp.Padding||{};bI=bp.LabelConfiguration=bp.LabelConfiguration||{};bJ=a.Object;bK=bD.DictionaryUtil=bD.DictionaryUtil||{};bL=_7.Disposable=_7.Disposable||{};bM=_7.Observer=_7.Observer||{};bN=S&&S.Runtime;bO=a.tinyMCE;bP=a.Math;bQ=J&&J.PluginManager;e.Main=function(){e.Run().AppendTo("main");};e.Run=function(){var bR;bR=[e.TestFormlet("SimpleHtmlEditor","Creates SimpleHtmlEditor with default configuration",p.SimpleEditorDefaultConfiguration()),e.TestFormlet("SimpleHtmlEditor","Creates SimpleHtmlEditor with custom configuration: width = 500, height = 500",p.SimpleEditorCustomConfiguration()),e.TestFormlet("AdvancedHtmlEditor","Creates AdvancedHtmlEditor with default configuration",p.AdvancedEditorDefaultConfiguration()),e.TestFormlet("AdvancedHtmlEditor","Creates AdvancedHtmlEditor with custom configuration: width = 600, height = 400, ToolbarLocation = Top, ToolbarAlign = Left, Plugins = table,contextmenu,paste, Only first row of Buttons = Bold, Anchor",p.AdvancedEditorCustomConfiguration()),e.TestDirectBindings("Creating TinyMCE with direct bindings","TinyMCE should be visible",q.CreatingTinyMce()),e.TestDirectBindings("Creating TinyMCE with direct bindings, Oninit callback","When TinyMCE is initialized p element below the editor should have the editor's content",q.CreatingTinyMceWithOninitCallback()),e.TestDirectBindings("Creating TinyMCE with direct bindings, Onchange callback","When TinyMCE content is changed JavaScript Alert dialog is shown with the editor's content",q.CreatingTinyMceWithOnchangeCallback()),e.TestDirectBindings("Creating TinyMCE with direct bindings, OnKeyUp event","When OnKeyUp event fires JavaScript alert box with editor's content is shown",q.OnKeyupCallback()),e.TestDirectBindings("Creating TinyMCE with direct bindings, OnClick event","When OnClick event fires JavaScript alert box with editor's content is shown",q.OnClickCallback()),e.TestDirectBindings("Using UndoManager to undo and redo changes","Buttons below undo and redo changes",q.UndoManagerUndoAndRedoButtons()),e.TestDirectBindings("The editor's selection","Clicking buttons below gets selection and replaces selected content",q.EditorSelectionGetReplace()),e.TestDirectBindings("Plugin: Custom ListBox and SplitButton","Toolbar should have custom ListBox and SplitButton",r.CustomListBoxSplitButton()),e.TestDirectBindings("Plugin: MenuButton","Toolbar should have custom MenuButton",r.MenuButton()),e.TestDirectBindings("Plugin: Custom toolbar button","Toolbar should have custom Button",r.CustomToolbarButton())];return o.Tags().NewTag("div",bR);};e.TestFormlet=function(bR,bS,bT){var bU,bV,bW,bX,bY;bU=[(bV=[o.Tags().text(bR)],o.Tags().NewTag("h3",bV)),(bW=[o.Tags().text(bS)],o.Tags().NewTag("p",bW)),(bX=[y.WithFormContainer((bY=v.Do(),bY.Delay(function(){return bY.Bind(bT,function(bZ){return bY.Bind(x.TextArea(bZ),function(){return bY.Return();});});})))],o.Tags().NewTag("p",bX))];return o.Tags().NewTag("div",bU);};e.TestDirectBindings=function(bR,bS,bT){var bU,bV,bW;bU=[(bV=[o.Tags().text(bR)],o.Tags().NewTag("h3",bV)),(bW=[o.Tags().text(bS)],o.Tags().NewTag("p",bW)),bT];return o.Tags().NewTag("div",bU);};f=b.Obj=bN.Class({Equals:function(bR){return this===bR;},GetHashCode:function(){return -1;}},null,f);f.New=bN.Ctor(function(){},f);i=h.Pagelet=bN.Class({AppendTo:function(bR){self.document.getElementById(bR).appendChild(this.get_Body());this.Render();},Render:a.ignore},f,i);i.New=bN.Ctor(function(){f.New.call(this);},i);j.FailWith=function(bR){throw new a.Error(bR);};j.KeyValue=function(bR){return[bR.K,bR.V];};n.GetFieldValues=function(bR){var bS,bT;bS=[];for(var bU in bR)bS.push(bR[bU]);return bS;};o.Tags=function(){Q.$cctor();return Q.Tags$1;};p.SimpleEditorDefaultConfiguration=function(){return y.WithSubmitAndResetButtons((A.SimpleHtmlEditor(B.get_Default()))("default"));};p.SimpleEditorCustomConfiguration=function(){return y.WithSubmitAndResetButtons((A.SimpleHtmlEditor(B.New({$:1,$0:500},{$:1,$0:500})))("default"));};p.AdvancedEditorDefaultConfiguration=function(){return y.WithSubmitAndResetButtons((A.AdvancedHtmlEditor(C.get_Default()))("default"));};p.AdvancedEditorCustomConfiguration=function(){var bR;return y.WithSubmitAndResetButtons((A.AdvancedHtmlEditor((bR=C.get_Default(),C.New({$:1,$0:600},{$:1,$0:400},bR.Plugins,{$:1,$0:"top"},{$:1,$0:"left"},bR.StatusbarLocation,{$:1,$0:D.ofArray([D.ofArray([{$:0},{$:37}]),E.Empty,E.Empty])}))))("default"));};q.CreatingTinyMce=function(){var bR,bS,bT,bU;function bV(bX){var bY;bO.init((bY={},bY.theme="advanced",bY.mode="exact",bY.elements=bX,bY));}function bW(bX){bV(bR);}bR="id"+bP.round(bP.random()*100000000);bS=[(bT=(bU=[H.Attr().NewAttr("id",bR),o.Tags().text("default content")],o.Tags().NewTag("textarea",bU)),(function(bX){F.OnAfterRender(bW,bX);}(bT),bT))];return o.Tags().NewTag("div",bS);};q.CreatingTinyMceWithOninitCallback=function(){var bR,bS,bT,bU,bV;function bW(bY){var bZ;bO.init((bZ={},bZ.theme="advanced",bZ.mode="exact",bZ.elements=bY,bZ.oninit=function(){var b0;b0=bO.get(bY);return a.jQuery("#change_on_init").html("Oninit event executed, editor content: "+b0.getContent());},bZ));}function bX(bY){bW(bR);}bR="id"+bP.round(bP.random()*100000000);bS=[(bT=[H.Attr().NewAttr("id",bR),o.Tags().text("default content: oninit")],o.Tags().NewTag("textarea",bT)),(bU=(bV=[H.Attr().NewAttr("id","change_on_init")],o.Tags().NewTag("p",bV)),(function(bY){F.OnAfterRender(bX,bY);}(bU),bU))];return o.Tags().NewTag("div",bS);};q.CreatingTinyMceWithOnchangeCallback=function(){var bR,bS,bT,bU;function bV(bX){var bY;bO.init((bY={},bY.theme="advanced",bY.mode="exact",bY.elements=bX,bY.onchange_callback=function(bZ){return a.alert(bZ.getContent());},bY));}function bW(bX){bV(bR);}bR="id"+bP.round(bP.random()*100000000);bS=[(bT=(bU=[H.Attr().NewAttr("id",bR),o.Tags().text("default content")],o.Tags().NewTag("textarea",bU)),(function(bX){F.OnAfterRender(bW,bX);}(bT),bT))];return o.Tags().NewTag("div",bS);};q.OnKeyupCallback=function(){var bR,bS,bT,bU;function bV(bX){var bY;bO.init((bY={},bY.theme="advanced",bY.mode="exact",bY.elements=bX,bY.oninit=function(){bO.get(bX).onKeyUp.add(function(bZ){return a.alert(bZ.getContent());});},bY));}function bW(bX){bV(bR);}bR="id"+bP.round(bP.random()*100000000);bS=[(bT=(bU=[H.Attr().NewAttr("id",bR),o.Tags().text("default content")],o.Tags().NewTag("textarea",bU)),(function(bX){F.OnAfterRender(bW,bX);}(bT),bT))];return o.Tags().NewTag("div",bS);};q.OnClickCallback=function(){var bR,bS,bT,bU;function bV(bX){var bY;bO.init((bY={},bY.theme="advanced",bY.mode="exact",bY.elements=bX,bY.oninit=function(){bO.get(bX).onClick.add(function(bZ){return a.alert(bZ.getContent());});},bY));}function bW(bX){bV(bR);}bR="id"+bP.round(bP.random()*100000000);bS=[(bT=(bU=[H.Attr().NewAttr("id",bR),o.Tags().text("default content")],o.Tags().NewTag("textarea",bU)),(function(bX){F.OnAfterRender(bW,bX);}(bT),bT))];return o.Tags().NewTag("div",bS);};q.UndoManagerUndoAndRedoButtons=function(){var bR,bS,bT,bU,bV,bW,bX,bY;function bZ(b3){var b4;bO.init((b4={},b4.theme="advanced",b4.mode="exact",b4.elements=b3,b4));}function b0(b3){bZ(bR);}function b1(b3,b4){bO.get(bR).undoManager.undo();}function b2(b3,b4){bO.get(bR).undoManager.redo();}bR="id"+bP.round(bP.random()*100000000);bS=[(bT=(bU=[H.Attr().NewAttr("id",bR),o.Tags().text("default content")],o.Tags().NewTag("textarea",bU)),(function(b3){F.OnAfterRender(b0,b3);}(bT),bT)),(bV=(bW=[o.Tags().text("undo")],o.Tags().NewTag("button",bW)),(function(b3){I.Events().OnClick(function(b4){return function(b5){return b1(b4,b5);};},b3);}(bV),bV)),(bX=(bY=[o.Tags().text("redo")],o.Tags().NewTag("button",bY)),(function(b3){I.Events().OnClick(function(b4){return function(b5){return b2(b4,b5);};},b3);}(bX),bX))];return o.Tags().NewTag("div",bS);};q.EditorSelectionGetReplace=function(){var bR,bS,bT,bU,bV,bW,bX,bY;function bZ(b3){var b4;bO.init((b4={},b4.theme="advanced",b4.mode="exact",b4.elements=b3,b4));}function b0(b3){bZ(bR);}function b1(b3,b4){return a.alert(bO.get(bR).selection.getContent());}function b2(b3,b4){return bO.get(bR).selection.setContent("foo");}bR="id"+bP.round(bP.random()*100000000);bS=[(bT=(bU=[H.Attr().NewAttr("id",bR),o.Tags().text("default content")],o.Tags().NewTag("textarea",bU)),(function(b3){F.OnAfterRender(b0,b3);}(bT),bT)),(bV=(bW=[o.Tags().text("get selection")],o.Tags().NewTag("button",bW)),(function(b3){I.Events().OnClick(function(b4){return function(b5){return b1(b4,b5);};},b3);}(bV),bV)),(bX=(bY=[o.Tags().text("replace selection with foo")],o.Tags().NewTag("button",bY)),(function(b3){I.Events().OnClick(function(b4){return function(b5){return b2(b4,b5);};},b3);}(bX),bX))];return o.Tags().NewTag("div",bS);};r.CustomListBoxSplitButton=function(){var bR,bS,bT,bU;function bV(bX){var bY,bZ,b0,b1,b2,b3;bY=(bZ={},bZ.title="My list box",bZ.onselect=function(b4){return bO.activeEditor.windowManager.alert("Value selected:"+b4);},bZ);b0=(b1={},b1.title="My split button",b1.image="img/example.gif",b1.onclick=function(){return bO.activeEditor.windowManager.alert("Button was clicked.");},b1);bO.create("tinymce.plugins.CustomListBoxSplitButtonPlugin",(b2={},b2.createControl=function(b4,b5){var b6,b7,b8;function b9(b_,b$){var ca,cb,cc;b$.add((ca={},ca.title="Some title",ca["class"]="mceMenuItemTitle",ca));b$.add((cb={},cb.title="Some item 1",cb.onclick=function(){return bO.activeEditor.windowManager.alert("Some  item 1 was clicked");},cb));b$.add((cc={},cc.title="Some item 2",cc.onclick=function(){return bO.activeEditor.windowManager.alert("Some  item 2 was clicked");},cc));}return b4==="mylistbox"?(b6=b5.createListBox("mylistbox",bY),(b6.add("Some item 1","val1"),b6.add("Some item 2","val2"),b6.add("Some item 3","val3"),b6)):b4==="mysplitbutton"?(b7=b5.createSplitButton("mysplitbutton",b0),(b8=b7.onRenderMenu,b7)):null;},b2));bQ.add("exampleCustomListBoxSplitButton",a["eval"]("tinymce.plugins.CustomListBoxSplitButtonPlugin"));bO.init((b3={},b3.theme="advanced",b3.mode="exact",b3.elements=bX,b3.theme_advanced_toolbar_location="top",b3.plugins="-exampleCustomListBoxSplitButton",b3.theme_advanced_buttons1="mylistbox,mysplitbutton,bold",b3.theme_advanced_buttons2="",b3.theme_advanced_buttons3="",b3.theme_advanced_buttons4="",b3));}function bW(bX){bV(bR);}bR="id"+bP.round(bP.random()*100000000);bS=[(bT=(bU=[H.Attr().NewAttr("id",bR),o.Tags().text("default content")],o.Tags().NewTag("textarea",bU)),(function(bX){F.OnAfterRender(bW,bX);}(bT),bT))];return o.Tags().NewTag("div",bS);};r.MenuButton=function(){var bR,bS,bT,bU;function bV(bX){var bY,bZ,b0,b1;bY=(bZ={},bZ.title="My menu button",bZ.image="img/example.gif",bZ.icons=false,bZ);bO.create("tinymce.plugins.MenuButtonPlugin",(b0={},b0.createControl=function(b2,b3){var b4,b5;function b6(b7,b8){var b9,b_,b$,ca,cb,cc;b8.add((b9={},b9.title="Some item 1",b9.onclick=function(){return bO.activeEditor.execCommand("mceInsertContent",false,"Some item 1");},b9));b8.add((b_={},b_.title="Some item 2",b_.onclick=function(){return bO.activeEditor.execCommand("mceInsertContent",false,"Some item 2");},b_));b$=b8.addMenu((ca={},ca.title="Some item 3",ca));b$.add((cb={},cb.title="Some item 3.1",cb.onclick=function(){return bO.activeEditor.execCommand("mceInsertContent",false,"Some item 3.1");},cb));b$.add((cc={},cc.title="Some item 3.2",cc.onclick=function(){return bO.activeEditor.execCommand("mceInsertContent",false,"Some item 3.2");},cc));}return b2==="mymenubutton"?(b4=b3.createMenuButton("mymenubutton",bY),(b5=b4.onRenderMenu,b4)):null;},b0));bQ.add("exampleMenuButton",a["eval"]("tinymce.plugins.MenuButtonPlugin"));bO.init((b1={},b1.theme="advanced",b1.mode="exact",b1.elements=bX,b1.theme_advanced_toolbar_location="top",b1.plugins="-exampleMenuButton",b1.theme_advanced_buttons1="mymenubutton,bold",b1.theme_advanced_buttons2="",b1.theme_advanced_buttons3="",b1.theme_advanced_buttons4="",b1));}function bW(bX){bV(bR);}bR="id"+bP.round(bP.random()*100000000);bS=[(bT=(bU=[H.Attr().NewAttr("id",bR),o.Tags().text("default content")],o.Tags().NewTag("textarea",bU)),(function(bX){F.OnAfterRender(bW,bX);}(bT),bT))];return o.Tags().NewTag("div",bS);};r.CustomToolbarButton=function(){var bR,bS,bT,bU;function bV(bX){var bY;bO.init((bY={},bY.theme="advanced",bY.mode="exact",bY.elements=bX,bY.theme_advanced_toolbar_location="top",bY.theme_advanced_buttons1="mybutton,bold",bY.theme_advanced_buttons2="",bY.theme_advanced_buttons3="",bY.theme_advanced_buttons4="",bY.setup=function(bZ){var b0;return bZ.addButton("mybutton",(b0={},b0.title="My button",b0.image="img/example.gif",b0.onclick=function(){bZ.focus(false);return bZ.selection.setContent("Hello world!");},b0));},bY));}function bW(bX){bV(bR);}bR="id"+bP.round(bP.random()*100000000);bS=[(bT=(bU=[H.Attr().NewAttr("id",bR),o.Tags().text("default content")],o.Tags().NewTag("textarea",bU)),(function(bX){F.OnAfterRender(bW,bX);}(bT),bT))];return o.Tags().NewTag("div",bS);};t=h.TagBuilder=bN.Class({NewTag:function(bR,bS){var bT,bU;bT=_2.New(this.HtmlProvider,bR);bU=bn.Get(bS);try{while(bU.MoveNext())bT.AppendI(bU.Current());}finally{if(typeof bU=="object"&&"Dispose"in bU)bU.Dispose();}return bT;},text:function(bR){return new _6.New(bR);}},f,t);t.New=bN.Ctor(function(bR){f.New.call(this);this.HtmlProvider=bR;},t);v.Do=function(){R.$cctor();return R.Do;};v.ApplyLayout=function(bR){return W.OfIFormlet(W.PropagateRenderFrom(bR,W.BaseFormlet().ApplyLayout(bR)));};v.MapElement=function(bR,bS){return W.OfIFormlet(W.PropagateRenderFrom(bS,W.BaseFormlet().MapBody(function(bT){return bu.New(bR(bT.Element),bT.Label);},bS)));};v.BuildFormlet=function(bR){return W.MkFormlet(bR);};v.Return=function(bR){return W.OfIFormlet(W.BaseFormlet().Return(bR));};v.WithLayout=function(bR,bS){return W.OfIFormlet(W.PropagateRenderFrom(bS,W.BaseFormlet().WithLayout(bR,bS)));};v.LiftResult=function(bR){return W.OfIFormlet(W.PropagateRenderFrom(bR,W.BaseFormlet().LiftResult(bR)));};v.MapResult=function(bR,bS){return W.OfIFormlet(W.PropagateRenderFrom(bS,W.BaseFormlet().MapResult(bR,bS)));};v.Map=function(bR,bS){return W.OfIFormlet(W.PropagateRenderFrom(bS,W.BaseFormlet().Map(bR,bS)));};v.InitWithFailure=function(bR){return W.OfIFormlet(W.PropagateRenderFrom(bR,W.BaseFormlet().InitWithFailure(bR)));};v.WithNotificationChannel=function(bR){return W.OfIFormlet(W.PropagateRenderFrom(bR,W.BaseFormlet().WithNotificationChannel(bR)));};w=u.FormletBuilder=bN.Class({Delay:function(bR){return W.OfIFormlet(W.BaseFormlet().Delay(bR));},Bind:function(bR,bS){return W.OfIFormlet(W.PropagateRenderFrom(bR,W.BaseFormlet().Bind(bR,bS)));},Return:function(bR){return W.OfIFormlet(W.BaseFormlet().Return(bR));},ReturnFrom:function(bR){return W.OfIFormlet(bR);}},f,w);w.New=bN.Ctor(function(){f.New.call(this);},w);x.TextArea=function(bR){return x.TextAreaControl(false,bR);};x.TextAreaControl=function(bR,bS){return x.InputControl(bS,function(bT){var bU,bV;function bW(){if(!bR)bT.Trigger({$:0,$0:bU.get_Value()});}bU=(bV=bR?D.ofArray([H.Attr().NewAttr("readonly","readonly")]):E.Empty,o.Tags().NewTag("textarea",bV));(function(bX){x.OnTextChange(bW,bX);}(bU));return bU;});};x.InputControl=function(bR,bS){return W.MkFormlet(function(){var bT,bU;bT=bd.New$1({$:0,$0:bR});bU=bS(bT);bU.set_Value(bR);return[bU,function(){bU.set_Value(bR);bT.Trigger({$:0,$0:bR});},bT];});};x.OnTextChange=function(bR,bS){var bT;function bU(){if(bS.get_Value()!==bT[0]){bT[0]=bS.get_Value();bR();}}function bV(bY){bU();}function bW(bY,bZ){return bV(bY);}function bX(bY,bZ){return bU();}bT=[bS.get_Value()];I.Events().OnChange(function(bY){return function(bZ){return bW(bY,bZ);};},bS);I.Events().OnKeyUp(function(bY){return function(bZ){return bX(bY,bZ);};},bS);bS.Dom.oninput=bU;};y.WithFormContainer=function(bR){return y.WithCustomFormContainer(X.get_Default(),bR);};y.WithSubmitAndResetButtons=function(bR){var bS,bT;return y.WithCustomSubmitAndResetButtons((bS=Z.get_Default(),Z.New({$:1,$0:"Submit"},bS.Style,bS.Class)),(bT=Z.get_Default(),Z.New({$:1,$0:"Reset"},bT.Style,bT.Class)),bR);};y.WithCustomFormContainer=function(bR,bS){return v.MapElement(function(bT){var bU,bV,bW,bX,bY,bZ,b0,b1,b2;function b3(b4,b5){if(b5==null);else bX.HtmlProvider.SetCss(bX.get_Body(),b4,b5.$0);}bU=bf.Maybe(E.Empty,function(b4){var b5;return b4.$==1?D.ofArray([b4.$0()]):D.ofArray([(b5=[o.Tags().text(b4.$0)],o.Tags().NewTag("p",b5))]);},bR.Description);bV=bf.Maybe(bf.InTable(D.ofArray([D.ofArray([F.add((bW=[H.Attr().NewAttr("class","headerPanel")],o.Tags().NewTag("div",bW)),bU)]),D.ofArray([bT])])),function(b4){var b5,b6,b7;return bf.InTable(D.ofArray([D.ofArray([(b5=b4.$==1?b4.$0():(b6=[o.Tags().text(b4.$0)],o.Tags().NewTag("h1",b6)),F.add((b7=[H.Attr().NewAttr("class","headerPanel")],o.Tags().NewTag("div",b7)),new E({$:1,$0:b5,$1:bU})))]),D.ofArray([bT])]));},bR.Header);bX=F.add((bY=[H.Attr().NewAttr("class","formlet")],o.Tags().NewTag("td",bY)),[bV]);bf.Maybe(null,function(b4){bX.HtmlProvider.SetStyle(bX.get_Body(),"border-color: "+b4);},bR.BorderColor);D.iter(function(b4){return b3(b4[0],b4[1]);},D.ofArray([["background-color",bf.MapOption(a.id,bR.BackgroundColor)],["padding-left",bf.MapOption(function(b4){return a.String(b4)+"px";},bR.Padding.Left)],["padding-right",bf.MapOption(function(b4){return a.String(b4)+"px";},bR.Padding.Right)],["padding-top",bf.MapOption(function(b4){return a.String(b4)+"px";},bR.Padding.Top)],["padding-bottom",bf.MapOption(function(b4){return a.String(b4)+"px";},bR.Padding.Bottom)]]));bZ=bR.Style;bZ==null?void 0:bX.HtmlProvider.SetStyle(bX.get_Body(),bZ.$0);b0=bR.CssClass;b0==null?void 0:bX.HtmlProvider.AddClass(bX.get_Body(),b0.$0);b1=[(b2=[o.Tags().NewTag("tr",[bX])],o.Tags().NewTag("tbody",b2))];return o.Tags().NewTag("table",b1);},v.ApplyLayout(bS));};y.WithCustomSubmitAndResetButtons=function(bR,bS,bT){return y.WithSubmitAndReset(bT,function(bU,bV){var bW,bX,bY,bZ,b0,b1;bW=bV.$==1?(bX=bV.$0,v.MapResult(function(){return{$:1,$0:bX};},y.InputButton(bR,false))):(bY=bV.$0,v.Map(function(){return bY;},y.InputButton(bR,true)));bZ=(b0=v.Do(),b0.Delay(function(){return b0.Bind(v.LiftResult(y.InputButton(bS,true)),function(b2){b2.$==0?bU():void 0;return b0.Return();});}));b1=W.$(W.$(v.Return(function(b2){return function(){return b2;};}),bW),bZ);return v.WithLayout(W.Layout().get_Horizontal(),b1);});};y.WithSubmitAndReset=function(bR,bS){var bT;return W.OfIFormlet(W.PropagateRenderFrom(bR,(bT=v.Do(),bT.Delay(function(){return bT.Bind(v.WithNotificationChannel(v.LiftResult(v.InitWithFailure(bR))),function(bU){var bV;bV=bU[1];return bT.ReturnFrom(bS(function(){bV(void 0);},bU[0]));});}))));};y.InputButton=function(bR,bS){return W.MkFormlet(function(){var bT,bU,bV,bW,bX,bY,bZ,b0,b1;function b2(b3,b4){bU[0]++;return bT.Trigger({$:0,$0:bU[0]});}bT=bd.New$1({$:1,$0:E.Empty});bU=[0];bV=(bW=bf.Maybe("Submit",a.id,bR.Label),(bX=(bY=F.add((bZ=[H.Attr().NewAttr("type","button")],o.Tags().NewTag("input",bZ)),[H.Attr().NewAttr("class","submitButton"),H.Attr().NewAttr("value",bW)]),(function(b3){I.Events().OnClick(function(b4){return function(b5){return b2(b4,b5);};},b3);}(bY),bY)),(!bS?bX.HtmlProvider.AddClass(bX.get_Body(),"disabledButton"):void 0,b0=bR.Style,b0!=null&&b0.$==1?bX.HtmlProvider.SetStyle(bX.get_Body(),b0.$0):void 0,b1=bR.Class,b1!=null&&b1.$==1?bX.HtmlProvider.AddClass(bX.get_Body(),b1.$0):void 0,bX)));bT.Trigger({$:1,$0:E.Empty});return[bV,function(){bU[0]=0;bT.Trigger({$:1,$0:E.Empty});},bT];});};A.SimpleHtmlEditor=function(bR){var bS,bT;bS=(bT=Y.get_Default(),Y.New({$:0},bR.Width,bR.Height,bT.Plugins,bT.AdvancedToolbarLocation,bT.AdvancedToolbarAlign,bT.AdvancedStatusbarLocation,bT.AdvancedButtons));return function(bU){return A.HtmlEditor(bS,bU);};};A.AdvancedHtmlEditor=function(bR){var bS;bS=Y.New({$:1},bR.Width,bR.Height,bR.Plugins,bR.ToolbarLocation,bR.ToolbarAlign,bR.StatusbarLocation,bR.Buttons);return function(bT){return A.HtmlEditor(bS,bT);};};A.HtmlEditor=function(bR,bS){return v.BuildFormlet(function(){var bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7;function b8(b_){var b$;function ca(){bU[0]={$:1,$0:b_};bT.event.Trigger({$:0,$0:b_});}b$=bU[0];b$==null?ca():b_!==b$.$0?ca():void 0;}function b9(b_){bO.init(bW);b8(bS);}bT=new bi.New();bU=[null];bV="id"+bP.round(bP.random()*100000000);bW=(bX=(bY={},bY.theme=bj.ShowTheme(bR.Theme),bY.mode="exact",bY.elements=bV,bY.onchange_callback=function(b_){return b8(b_.getContent());},bY.oninit=function(){bO.get(bV).onKeyUp.add(function(b_){return b8(b_.getContent());});},bY),(bZ=bR.Height,bZ==null?void 0:bX.height=a.String(bZ.$0)+"px",b0=bR.Width,b0==null?void 0:bX.width=a.String(b0.$0)+"px",b1=bR.Plugins,b1==null?void 0:bX.plugins=b1.$0,b2=bR.AdvancedToolbarAlign,b2==null?void 0:bX.theme_advanced_toolbar_align=b2.$0,b3=bR.AdvancedStatusbarLocation,b3==null?void 0:bX.theme_advanced_statusbar_location=b3.$0,b4=bR.AdvancedToolbarLocation,b4==null?void 0:bX.theme_advanced_toolbar_location=b4.$0,b5=bR.AdvancedButtons,b5==null?void 0:D.iteri(function(b_,b$){return b$.$==0?void(bX["theme_advanced_buttons"+a.String(b_+1)]=""):void(bX["theme_advanced_buttons"+a.String(b_+1)]=bk.reduce(function(ca,cb){return ca+","+cb;},bk.map(bj.ShowButtonType,b$)));},b5.$0),bX));return[(b6=(b7=[H.Attr().NewAttr("id",bV),o.Tags().text(bS)],o.Tags().NewTag("textarea",b7)),(function(b_){F.OnAfterRender(b9,b_);}(b6),b6)),function(){bO.get(bV).setContent(bS);b8(bS);},bT.event];});};B.get_Default=function(){return B.New(null,null);};B.New=function(bR,bS){return{Width:bR,Height:bS};};C.get_Default=function(){return C.New(null,null,null,null,null,null,null);};C.New=function(bR,bS,bT,bU,bV,bW,bX){return{Width:bR,Height:bS,Plugins:bT,ToolbarLocation:bU,ToolbarAlign:bV,StatusbarLocation:bW,Buttons:bX};};D.ofArray=function(bR){var bS,bT,bU;bS=E.Empty;for(bT=_0.length(bR)-1,bU=0;bT>=bU;bT--)bS=new E({$:1,$0:_0.get(bR,bT),$1:bS});return bS;};D.iter=function(bR,bS){var bT;bT=bS;while(bT.$==1){bR(D.head(bT));bT=D.tail(bT);}};D.iteri=function(bR,bS){var bT,bU;bT=bS;bU=0;while(bT.$==1){bR(bU,D.head(bT));bT=D.tail(bT);bU=bU+1;}};D.map=function(bR,bS){var bT,bU,bV,bW,bX;if(bS.$==0)return bS;else{bW=new E({$:1});bT=bW;bU=bS;bV=true;while(bV){bT.$0=bR(bU.$0);bU=bU.$1;bU.$==0?bV=false:bT=(bX=new E({$:1}),bT.$1=bX,bX);}bT.$1=E.Empty;return bW;}};D.head=function(bR){return bR.$==1?bR.$0:D.listEmpty();};D.tail=function(bR){return bR.$==1?bR.$1:D.listEmpty();};D.listEmpty=function(){return j.FailWith("The input list was empty.");};D.append=function(bR,bS){var bT,bU,bV,bW,bX;if(bR.$==0)return bS;else if(bS.$==0)return bR;else{bW=new E({$:1});bT=bW;bU=bR;bV=true;while(bV){bT.$0=bU.$0;bU=bU.$1;bU.$==0?bV=false:bT=(bX=new E({$:1}),bT.$1=bX,bX);}bT.$1=bS;return bW;}};E=D.T=bN.Class({GetEnumerator:function(){return new bx.New(this,null,function(bR){var bS;bS=bR.s;return bS.$==0?false:(bR.c=bS.$0,bR.s=bS.$1,true);},void 0);},GetEnumerator0:function(){return bn.Get(this);}},null,E);E.Empty=new E({$:0});F.OnAfterRender=function(bR,bS){var bT;bT=bS.Render;bS.Render=function(){bT.apply(bS);bR(bS);};};F.add=function(bR,bS){var bT;bT=bn.Get(bS);try{while(bT.MoveNext())bR.AppendI(bT.Current());}finally{if(typeof bT=="object"&&"Dispose"in bT)bT.Dispose();}return bR;};G=h.AttributeBuilder=bN.Class({NewAttr:function(bR,bS){return bl.New(this.HtmlProvider,bR,bS);}},f,G);G.New=bN.Ctor(function(bR){f.New.call(this);this.HtmlProvider=bR;},G);H.Attr=function(){Q.$cctor();return Q.Attr$1;};I.Events=function(){bm.$cctor();return bm.Events;};P.Equals=function(bR,bS){var bT,bU,bV,bW;if(bR===bS)return true;else{bT=typeof bR;if(bT=="object"){if(bR===null||bR===void 0||bS===null||bS===void 0)return false;else if("Equals"in bR)return bR.Equals(bS);else if(bR instanceof a.Array&&bS instanceof a.Array)return P.arrayEquals(bR,bS);else if(bR instanceof a.Date&&bS instanceof a.Date)return P.dateEquals(bR,bS);else{bU=[true];for(var bX in bR)if(function(bY){bU[0]=!bR.hasOwnProperty(bY)||bS.hasOwnProperty(bY)&&P.Equals(bR[bY],bS[bY]);return!bU[0];}(bX))break;if(bU[0]){for(var bY in bS)if(function(bZ){bU[0]=!bS.hasOwnProperty(bZ)||bR.hasOwnProperty(bZ);return!bU[0];}(bY))break;}return bU[0];}}else return bT=="function"&&("$Func"in bR?bR.$Func===bS.$Func&&bR.$Target===bS.$Target:"$Invokes"in bR&&"$Invokes"in bS&&P.arrayEquals(bR.$Invokes,bS.$Invokes));}};P.arrayEquals=function(bR,bS){var bT,bU;if(_0.length(bR)===_0.length(bS)){bT=true;bU=0;while(bT&&bU<_0.length(bR)){!P.Equals(_0.get(bR,bU),_0.get(bS,bU))?bT=false:void 0;bU=bU+1;}return bT;}else return false;};P.dateEquals=function(bR,bS){return bR.getTime()===bS.getTime();};P.Hash=function(bR){var bS;bS=typeof bR;return bS=="function"?0:bS=="boolean"?bR?1:0:bS=="number"?bR:bS=="string"?P.hashString(bR):bS=="object"?bR==null?0:bR instanceof a.Array?P.hashArray(bR):P.hashObject(bR):0;};P.hashString=function(bR){var bS,bT,bU;if(bR===null)return 0;else{bS=5381;for(bT=0,bU=bR.length-1;bT<=bU;bT++)bS=P.hashMix(bS,bR[bT].charCodeAt());return bS;}};P.hashArray=function(bR){var bS,bT,bU;bS=-34948909;for(bT=0,bU=_0.length(bR)-1;bT<=bU;bT++)bS=P.hashMix(bS,P.Hash(_0.get(bR,bT)));return bS;};P.hashObject=function(bR){var bS,bT;if("GetHashCode"in bR)return bR.GetHashCode();else{bS=[0];for(var bU in bR)if(function(bV){bS[0]=P.hashMix(P.hashMix(bS[0],P.hashString(bV)),P.Hash(bR[bV]));return false;}(bU))break;return bS[0];}};P.hashMix=function(bR,bS){return(bR<<5)+bR+bS;};Q.$cctor=function(){Q.$cctor=a.ignore;Q.HtmlProvider=new _4.New();Q.Attr=new G.New(_3.HtmlProvider());Q.Tags=new t.New(_3.HtmlProvider());Q.DeprecatedHtml=new _5.New(_3.HtmlProvider());Q.Tags$1=_3.Tags();Q.Deprecated=_3.DeprecatedHtml();Q.Attr$1=_3.Attr();};R.$cctor=function(){R.$cctor=a.ignore;R.RX=_8.Default();R.Layout=new _9.New(new _.New({Reactive:_8.Default()}));R.DefaultLayout=W.Layout().get_Vertical();R.Validator=new $.New(new ba.New());R.Do=new w.New();};V=U.FormletProvider=bN.Class({Delay:function(bR){var bS;bS=this;return bb.New(this.L.Delay(function(){return bR().LayoutI();}),function(){return bS.BuildForm(bR());},this.U);},Bind:function(bR,bS){var bT;bT=this;return bT.Join(bT.Map(bS,bR));},Return:function(bR){var bS;bS=this;return bS.New(function(){return be.New(bS.U.Reactive.Never(),a.ignore,a.ignore,bS.U.Reactive.Return({$:0,$0:bR}));});},BuildForm:function(bR){var bS,bT,bU;bS=bR.BuildI();bT=bR.LayoutI().Apply(bS.Body);return bT!=null&&bT.$==1?(bU=bT.$0[1],be.New(this.U.Reactive.Return(br.Set(bT.$0[0])),function(){bS.Dispose$1();bU.Dispose();},bS.Notify,bS.State)):bS;},Map:function(bR,bS){return this.MapResult(function(bT){return bs.Map(bR,bT);},bS);},Join:function(bR){var bS;bS=this;return bS.New(function(){var bT,bU,bV;bT=bS.BuildForm(bR);bU=bS.U.Reactive.Heat(bS.U.Reactive.Select(bT.State,function(bW){return bW.$==1?bS.Fail(bW.$0):bS.BuildForm(bW.$0);}));return be.New((bV=bS.U.Reactive.Select(bS.U.Reactive.Switch(bS.U.Reactive.Select(bU,function(bW){return bS.U.Reactive.Concat(bS.U.Reactive.Return(br.Delete()),bW.Body);})),function(bW){return new bt({$:2,$0:bW});}),bS.U.Reactive.Merge(bS.U.Reactive.Select(bT.Body,function(bW){return new bt({$:1,$0:bW});}),bV)),function(){bT.Dispose$1();},function(bW){bT.Notify(bW);},bS.U.Reactive.Switch(bS.U.Reactive.Select(bU,function(bW){return bW.State;})));});},New:function(bR){return bb.New(this.L.Default(),bR,this.U);},MapResult:function(bR,bS){var bT;bT=this;return bb.New(bS.LayoutI(),function(){var bU;bU=bS.BuildI();return be.New(bU.Body,bU.Dispose$1,bU.Notify,bT.U.Reactive.Select(bU.State,bR));},this.U);},Fail:function(bR){return be.New(this.U.Reactive.Never(),a.ignore,a.ignore,this.U.Reactive.Return({$:1,$0:bR}));},ApplyLayout:function(bR){var bS;bS=this;return bS.New(function(){var bT,bU;bT=bR.BuildI();return be.New((bU=bR.LayoutI().Apply(bT.Body),bU==null?bT.Body:bS.U.Reactive.Return(br.Set(bU.$0[0]))),bT.Dispose$1,bT.Notify,bT.State);});},MapBody:function(bR,bS){var bT;bT=this;return this.WithLayout({Apply:function(bU){var bV,bW;bV=bS.LayoutI().Apply(bU);return bV==null?(bW=bT.U.DefaultLayout.Apply(bU),bW==null?null:{$:1,$0:[bR(bW.$0[0]),bW.$0[1]]}):{$:1,$0:[bR(bV.$0[0]),bV.$0[1]]};}},bS);},Apply:function(bR,bS){var bT;bT=this;return bT.New(function(){var bU,bV;function bW(bX,bY){return bs.Apply(bY,bX);}bU=bT.BuildForm(bR);bV=bT.BuildForm(bS);return be.New(bT.U.Reactive.Merge(bT.U.Reactive.Select(bU.Body,function(bX){return new bt({$:1,$0:bX});}),bT.U.Reactive.Select(bV.Body,function(bX){return new bt({$:2,$0:bX});})),function(){bV.Dispose$1();bU.Dispose$1();},function(bX){bV.Notify(bX);bU.Notify(bX);},bT.U.Reactive.CombineLatest(bV.State,bU.State,function(bX){return function(bY){return bW(bX,bY);};}));});},WithLayout:function(bR,bS){return bb.New(bR,function(){return bS.BuildI();},this.U);},LiftResult:function(bR){return this.MapResult(function(bS){return{$:0,$0:bS};},bR);},InitWithFailure:function(bR){var bS,bT;bS=this;bT=bS.New(function(){var bU;bU=bR.BuildI();return be.New(bU.Body,bU.Dispose$1,bU.Notify,bS.U.Reactive.Concat(bS.U.Reactive.Return({$:1,$0:E.Empty}),bU.State));});return bS.WithLayout(bR.LayoutI(),bT);},WithNotificationChannel:function(bR){var bS,bT;bS=this;bT=bS.New(function(){var bU;function bV(bW){return[bW,bU.Notify];}bU=bR.BuildI();return be.New(bU.Body,bU.Dispose$1,bU.Notify,bS.U.Reactive.Select(bU.State,function(bW){return bs.Map(bV,bW);}));});return bS.WithLayout(bR.LayoutI(),bT);}},f,V);V.New=bN.Ctor(function(bR){f.New.call(this);this.U=bR;this.L=new _.New({Reactive:this.U.Reactive});},V);W.BaseFormlet=function(){return new V.New(W.UtilsProvider());};W.OfIFormlet=function(bR){return W.PropagateRenderFrom(bR,new bc.New(function(){return bR.BuildI();},bR.LayoutI(),W.BaseFormlet(),W.UtilsProvider()));};W.PropagateRenderFrom=function(bR,bS){bR.hasOwnProperty("Render")?bS.Render=bR.Render:void 0;return bS;};W.Layout=function(){R.$cctor();return R.Layout;};W.UtilsProvider=function(){return{Reactive:W.RX(),DefaultLayout:W.DefaultLayout()};};W.$=function(bR,bS){return W.OfIFormlet(W.BaseFormlet().Apply(bR,bS));};W.RX=function(){R.$cctor();return R.RX;};W.DefaultLayout=function(){R.$cctor();return R.DefaultLayout;};W.MkFormlet=function(bR){return W.OfIFormlet(W.BaseFormlet().New(function(){var bS,bT,bU;bS=bR();bT=bS[1];return be.New((bU=br.Set(W.NewBody(bS[0],null)),W.RX().Return(bU)),a.ignore,function(){bT();},bS[2]);}));};W.NewBody=function(bR,bS){return bu.New$1(bR,bS);};X.get_Default=function(){return X.New(null,bg.get_Default(),null,null,null,null,null);};X.New=function(bR,bS,bT,bU,bV,bW,bX){return{Header:bR,Padding:bS,Description:bT,BackgroundColor:bU,BorderColor:bV,CssClass:bW,Style:bX};};Y.get_Default=function(){return Y.New({$:0},null,null,null,null,null,null,null);};Y.New=function(bR,bS,bT,bU,bV,bW,bX,bY){return{Theme:bR,Width:bS,Height:bT,Plugins:bU,AdvancedToolbarLocation:bV,AdvancedToolbarAlign:bW,AdvancedStatusbarLocation:bX,AdvancedButtons:bY};};Z.get_Default=function(){return Z.New(null,null,null);};Z.New=function(bR,bS,bT){return{Label:bR,Style:bS,Class:bT};};_0.get=function(bR,bS){_0.checkBounds(bR,bS);return bR[bS];};_0.length=function(bR){return bR.dims===2?bR.length*bR.length:bR.length;};_0.checkBounds=function(bR,bS){if(bS<0||bS>=bR.length)j.FailWith("Index was outside the bounds of the array.");};_1.NewFromSeq=function(bR){var bS,bT,bU;bS={};bT=bn.Get(bR);try{while(bT.MoveNext()){bU=bT.Current();bS[bU[0]]=bU[1];}}finally{if(typeof bT=="object"&&"Dispose"in bT)bT.Dispose();}return bS;};_2=h.Element=bN.Class({AppendI:function(bR){var bS,bT;bS=bR.get_Body();bS.nodeType===2?this.HtmlProvider.AppendAttribute(this.get_Body(),bS):this.HtmlProvider.AppendNode(this.get_Body(),bR.get_Body());this.IsRendered?bR.Render():(bT=this.RenderInternal,this.RenderInternal=function(){bT();bR.Render();});},get_Value:function(){return this.HtmlProvider.GetValue(this.get_Body());},set_Value:function(bR){this.HtmlProvider.SetValue(this.get_Body(),bR);},get_Body:function(){return this.Dom;},Render:function(){if(!this.IsRendered){this.RenderInternal();this.IsRendered=true;}},get_Id:function(){var bR,bS;bR=this.HtmlProvider.GetProperty(this.get_Body(),"id");return bR===void 0||bR===""?(bS="id"+bP.round(bP.random()*100000000),(this.HtmlProvider.SetProperty(this.get_Body(),"id",bS),bS)):bR;}},i,_2);_2.New=function(bR,bS){var bT,bU;bT=new _2.New$1(bR);bU=self.document.createElement(bS);bT.RenderInternal=a.ignore;bT.Dom=bU;bT.IsRendered=false;return bT;};_2.New$1=bN.Ctor(function(bR){i.New.call(this);this.HtmlProvider=bR;},_2);_4=_3.JQueryHtmlProvider=bN.Class({AppendAttribute:function(bR,bS){this.SetAttribute(bR,bS.nodeName,bS.value);},AppendNode:function(bR,bS){var bT,bU;bT=a.jQuery(bR);bU=a.jQuery(bS);bT.append.apply(bT,[bU]);},GetValue:function(bR){return a.jQuery(bR).val();},SetStyle:function(bR,bS){a.jQuery(bR).attr("style",bS);},SetCss:function(bR,bS,bT){a.jQuery(bR).css(bS,bT);},AddClass:function(bR,bS){a.jQuery(bR).addClass(bS);},SetValue:function(bR,bS){a.jQuery(bR).val(bS);},SetAttribute:function(bR,bS,bT){a.jQuery(bR).attr(bS,bT);},CreateAttribute:function(bR){return self.document.createAttribute(bR);},GetProperty:function(bR,bS){return a.jQuery(bR).prop(bS);},SetProperty:function(bR,bS,bT){a.jQuery(bR).prop(bS,bT);},Remove:function(bR){a.jQuery(bR).remove();}},f,_4);_4.New=bN.Ctor(function(){f.New.call(this);},_4);_3.HtmlProvider=function(){Q.$cctor();return Q.HtmlProvider;};_3.Tags=function(){Q.$cctor();return Q.Tags;};_3.DeprecatedHtml=function(){Q.$cctor();return Q.DeprecatedHtml;};_3.Attr=function(){Q.$cctor();return Q.Attr;};_5=h.DeprecatedTagBuilder=bN.Class({},f,_5);_5.New=bN.Ctor(function(bR){f.New.call(this);this.HtmlProvider=bR;},_5);_6=h.Text=bN.Class({get_Body:function(){return self.document.createTextNode(this.text);}},i,_6);_6.New=bN.Ctor(function(bR){i.New.call(this);this.text=bR;},_6);_8.Default=function(){bo.$cctor();return bo.Default;};_8.Never=function(){return{Subscribe:function(){return bL.New(a.ignore);}};};_8.Return=function(bR){return{Subscribe:function(bS){bS.OnNext(bR);bS.OnCompleted();return bL.New(a.ignore);}};};_8.Select=function(bR,bS){return{Subscribe:function(bT){return bR.Subscribe(bF.observer(function(bU){bT.OnNext(bS(bU));}));}};};_8.Heat=function(bR){var bS;bS=bd.New$2();bR.Subscribe(bF.observer(function(bT){bS.Trigger(bT);}));return bS;};_8.Switch=function(bR){return{Subscribe:function(bS){var bT,bU;bT=[0];bU=[null];return bR.Subscribe(bF.observer(function(bV){var bW;bT[0]++;bU[0]!=null?bU[0].$0.Dispose():void 0;bW=bT[0];bU[0]={$:1,$0:bV.Subscribe(bF.observer(function(bX){if(bW===bT[0])bS.OnNext(bX);}))};}));}};};_8.Merge=function(bR,bS){return{Subscribe:function(bT){var bU,bV,bW,bX;bU=[false];bV=[false];bW=bR.Subscribe(bM.New(function(bY){bT.OnNext(bY);},function(){bU[0]=true;bU[0]&&bV[0]?bT.OnCompleted():void 0;}));bX=bS.Subscribe(bM.New(function(bY){bT.OnNext(bY);},function(){bV[0]=true;bU[0]&&bV[0]?bT.OnCompleted():void 0;}));return bL.New(function(){bW.Dispose();bX.Dispose();});}};};_8.Concat=function(bR,bS){return{Subscribe:function(bT){var bU,bV;bU=[null];bV=bR.Subscribe(bM.New(function(bW){bT.OnNext(bW);},function(){bU[0]={$:1,$0:bS.Subscribe(bT)};}));return bL.New(function(){bU[0]!=null?bU[0].$0.Dispose():void 0;bV.Dispose();});}};};_8.CombineLatest=function(bR,bS,bT){return{Subscribe:function(bU){var bV,bW,bX,bY;function bZ(){var b0,b1;b0=bV[0];b1=bW[0];b0!=null&&b0.$==1?b1!=null&&b1.$==1?bU.OnNext(bT(b0.$0,b1.$0)):void 0:void 0;}bV=[null];bW=[null];bX=bR.Subscribe(bM.New(function(b0){bV[0]={$:1,$0:b0};bZ();},a.ignore));bY=bS.Subscribe(bM.New(function(b0){bW[0]={$:1,$0:b0};bZ();},a.ignore));return bL.New(function(){bX.Dispose();bY.Dispose();});}};};_9=u.LayoutProvider=bN.Class({get_Vertical:function(){return this.RowLayout(bq.get_Default());},get_Horizontal:function(){return this.ColumnLayout(bq.get_Default());},RowLayout:function(bR){var bS;bS=this;return this.LayoutUtils.New(function(){var bT,bU,bV;function bW(bX,bY){var bZ,b0,b1,b2,b3;bZ=bY.Element.get_Id();b0=bS.MakeRow(bR,bX,bY);b1=a.jQuery(bT.get_Body());b2=[0];b3=[false];b1.children().each(function(b4,b5){var b6;b6=a.jQuery(b5);bX===b2[0]?(a.jQuery(b0.get_Body()).insertBefore(b6),b0.Render(),b3[0]=true):void 0;b2[0]++;});!b3[0]?bT.AppendI(b0):void 0;return bV.RegisterElement(bZ,function(){b0.HtmlProvider.Remove(b0.get_Body());});}bT=o.Tags().NewTag("tbody",[]);bU=o.Tags().NewTag("table",[bT]);bV=bB.NewElementStore();return{Body:bu.New(bU,null),SyncRoot:null,Insert:function(bX){return function(bY){return bW(bX,bY);};},Remove:function(bX){var bY;bY=bn.Get(bX);try{while(bY.MoveNext())bV.Remove(bY.Current().Element.get_Id());}finally{if(typeof bY=="object"&&"Dispose"in bY)bY.Dispose();}}};});},ColumnLayout:function(bR){var bS;bS=this;return this.LayoutUtils.New(function(){var bT,bU,bV,bW;function bX(bY,bZ){var b0,b1,b2,b3,b4,b5,b6,b7;b0=bZ.Element.get_Id();b1=(b2=[(b3=[(b4=[bS.MakeRow(bR,bY,bZ)],o.Tags().NewTag("tbody",b4))],o.Tags().NewTag("table",b3))],o.Tags().NewTag("td",b2));b5=a.jQuery(bT.get_Body());b6=[0];b7=[false];b5.children().each(function(b8,b9){var b_;b_=a.jQuery(b9);bY===b6[0]?(a.jQuery(b1.get_Body()).insertBefore(b_),b1.Render(),b7[0]=true):void 0;b6[0]++;});!b7[0]?bT.AppendI(b1):void 0;return bW.RegisterElement(b0,function(){b1.HtmlProvider.Remove(b1.get_Body());});}bT=o.Tags().NewTag("tr",[]);bU=(bV=[o.Tags().NewTag("tbody",[bT])],o.Tags().NewTag("table",bV));bW=bB.NewElementStore();return{Body:bu.New(bU,null),SyncRoot:null,Insert:function(bY){return function(bZ){return bX(bY,bZ);};},Remove:function(bY){var bZ;bZ=bn.Get(bY);try{while(bZ.MoveNext())bW.Remove(bZ.Current().Element.get_Id());}finally{if(typeof bZ=="object"&&"Dispose"in bZ)bZ.Dispose();}}};});},MakeRow:function(bR,bS,bT){var bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9;function b_(b$,ca,cb,cc,cd,ce,cf){var cg,ch,ci;function cj(ck,cl){return ck+a.String(cl)+"px;";}cg=bk.reduce(function(ck,cl){return ck+cl;},D.map(function(ck){return cj(ck[0],ck[1]);},D.ofArray([["padding-left: ",b$],["padding-top: ",ca],["padding-right: ",cb],["padding-bottom: ",cc]])));ch=bf.Maybe("",function(ck){return"vertical-align: "+(ck.$==1?"middle":ck.$==2?"bottom":"top")+";";},ce);ci=D.append(new E({$:1,$0:H.Attr().NewAttr("style",cg+";"+ch),$1:cd?D.ofArray([H.Attr().NewAttr("colspan","2")]):E.Empty}),D.ofArray([cf]));return o.Tags().NewTag("td",ci);}bU=bf.Maybe(bH.get_Default(),a.id,bR.Padding);bV=bf.Maybe(0,a.id,bU.Left);bW=bf.Maybe(0,a.id,bU.Top);bX=bf.Maybe(0,a.id,bU.Right);bY=bf.Maybe(0,a.id,bU.Bottom);bZ=bT.Element;b0=(b1=bT.Label,b1!=null&&b1.$==1?(b2=bf.Maybe(bI.get_Default(),a.id,bR.LabelConfiguration),(b3=this.HorizontalAlignElem(b2.Align,b1.$0()),(b4=b2.Placement,b4.$==3?D.ofArray([b_(bV,bW,bX,bY,true,null,bf.InTable(D.ofArray([D.ofArray([bZ]),D.ofArray([b3])])))]):b4.$==0?D.ofArray([b_(bV,bW,0,bY,false,{$:1,$0:b2.VerticalAlign},b3),b_(0,bW,bX,bY,false,null,bZ)]):b4.$==1?D.ofArray([b_(bV,bW,0,bY,false,{$:1,$0:b2.VerticalAlign},bZ),b_(0,bW,bX,bY,false,null,b3)]):D.ofArray([b_(bV,bW,bX,bY,true,null,bf.InTable(D.ofArray([D.ofArray([b3]),D.ofArray([bZ])])))])))):D.ofArray([b_(bV,bW,bX,bY,true,null,bZ)]));b5=bf.Maybe(E.Empty,function(b$){var ca;return D.ofArray([(ca=b$(bS),H.Attr().NewAttr("class",ca))]);},bR.Class);b6=(b7=D.append(bf.Maybe(E.Empty,function(b$){return D.ofArray(["background-color: "+b$(bS)]);},bR.Color),bf.Maybe(E.Empty,function(b$){return D.ofArray([b$(bS)]);},bR.Style)),b7.$==0?E.Empty:D.ofArray([(b8=bk.reduce(function(b$,ca){return b$+";"+ca;},b7),H.Attr().NewAttr("style",b8))]));b9=D.append(b5,D.append(b6,D.append(b6,b0)));return o.Tags().NewTag("tr",b9);},HorizontalAlignElem:function(bR,bS){var bT;return F.add((bT=[H.Attr().NewAttr("style","float:"+(bR.$==0?"left":"right")+";")],o.Tags().NewTag("div",bT)),[bS]);}},f,_9);_9.New=bN.Ctor(function(bR){f.New.call(this);this.LayoutUtils=bR;},_9);_=U.LayoutUtils=bN.Class({Delay:function(bR){return{Apply:function(bS){return bR().Apply(bS);}};},Default:function(){return{Apply:function(){return null;}};},New:function(bR){return{Apply:function(bS){var bT,bU;bT=bR();bU=[bC.Empty];return{$:1,$0:[bT.Body,bS.Subscribe(bF.observer(function(bV){var bW,bX;bW=br.ReplacedTree(bV,bU[0]);bU[0]=br.Apply(bV,bU[0]);bX=(br.Range(bV,bU[0]))[0];bT.Remove(bW.get_Sequence());bk.iteri(function(bY,bZ){return(bT.Insert(bX+bY))(bZ);},bV);}))]};}};}},f,_);_.New=bN.Ctor(function(bR){f.New.call(this);},_);$=U.Validator=bN.Class({},f,$);$.New=bN.Ctor(function(bR){f.New.call(this);this.VP=bR;},$);ba=W.ValidatorProvidor=bN.Class({},f,ba);ba.New=bN.Ctor(function(){f.New.call(this);},ba);bb=U.Formlet=bN.Class({LayoutI:function(){return this.Layout;},BuildI:function(){return this.Build();}},null,bb);bb.New=function(bR,bS,bT){return new bb({Layout:bR,Build:bS,Utils:bT});};bc=W.Formlet=bN.Class({get_Body:function(){return this.Run(a.ignore).get_Body();},Render:function(){this.Run(a.ignore).Render();},Run:function(bR){var bS,bT,bU,bV,bW;bS=this.get_ElementInternal();return bS==null?(bT=this.formletBase.ApplyLayout(this),(bU=bT.BuildI(),(bU.State.Subscribe(bF.observer(function(bX){bs.Map(bR,bX);})),bV=(bW=bT.LayoutI().Apply(bU.Body),bW==null?W.DefaultLayout().Apply(bU.Body).$0[0].Element:bW.$0[0].Element),this.set_ElementInternal({$:1,$0:bV}),bV))):bS.$0;},get_ElementInternal:function(){return this.ElementInternal;},set_ElementInternal:function(bR){this.ElementInternal=bR;},LayoutI:function(){return this.layoutInternal;},BuildI:function(){return this.buildInternal();}},i,bc);bc.New=bN.Ctor(function(bR,bS,bT,bU){i.New.call(this);this.buildInternal=bR;this.layoutInternal=bS;this.formletBase=bT;this.utils=bU;this.ElementInternal=null;},bc);bd=_7.HotStream=bN.Class({Trigger:function(bR){this.Latest[0]={$:1,$0:bR};this.Event.event.Trigger(bR);},Subscribe:function(bR){this.Latest[0]!=null?bR.OnNext(this.Latest[0].$0):void 0;return this.Event.event.Subscribe(bR);}},null,bd);bd.New$1=function(bR){return bd.New([{$:1,$0:bR}],new bi.New());};bd.New$2=function(){return bd.New([null],new bi.New());};bd.New=function(bR,bS){return new bd({Latest:bR,Event:bS});};be=U.Form=bN.Class({Dispose:function(){this.Dispose$1();}},null,be);be.New=function(bR,bS,bT,bU){return new be({Body:bR,Dispose:bS,Notify:bT,State:bU});};bf.Maybe=function(bR,bS,bT){return bT==null?bR:bS(bT.$0);};bf.MapOption=function(bR,bS){return bS!=null&&bS.$==1?{$:1,$0:bR(bS.$0)}:null;};bf.InTable=function(bR){var bS,bT;bS=[(bT=D.map(function(bU){var bV;bV=D.map(function(bW){return o.Tags().NewTag("td",[bW]);},bU);return o.Tags().NewTag("tr",bV);},bR),o.Tags().NewTag("tbody",bT))];return o.Tags().NewTag("table",bS);};bg.get_Default=function(){return bg.New(null,null,null,null);};bg.New=function(bR,bS,bT,bU){return{Left:bR,Right:bS,Top:bT,Bottom:bU};};bi=bh.FSharpEvent=bN.Class({},f,bi);bi.New=bN.Ctor(function(){f.New.call(this);this.event=bw.New([]);},bi);bj.ShowTheme=function(bR){return bR.$==1?"advanced":bR.$==2?bR.$0:"simple";};bj.ShowButtonType=function(bR){return bR.$==1?"italic":bR.$==2?"underline":bR.$==3?"strikethrough":bR.$==4?"justifyleft":bR.$==5?"justifycenter":bR.$==6?"justifyright":bR.$==7?"justifyfull":bR.$==8?"bullist":bR.$==9?"numlist":bR.$==10?"outdent":bR.$==11?"indent":bR.$==12?"cut":bR.$==13?"copy":bR.$==14?"paste":bR.$==15?"undo":bR.$==16?"redo":bR.$==17?"link":bR.$==18?"unlink":bR.$==19?"image":bR.$==20?"cleanup":bR.$==21?"help":bR.$==22?"code":bR.$==23?"hr":bR.$==24?"removeformat":bR.$==25?"formatselect":bR.$==26?"fontselect":bR.$==27?"fontselect":bR.$==28?"styleselect":bR.$==29?"sub":bR.$==30?"sup":bR.$==31?"forecolor":bR.$==32?"backcolor":bR.$==33?"forecolorpicker":bR.$==34?"backcolorpicker":bR.$==35?"charmap":bR.$==36?"visualaid":bR.$==37?"anchor":bR.$==38?"newdocument":bR.$==39?"blackquote":bR.$==40?"separator":bR.$==41?bR.$0:"bold";};bk.map=function(bR,bS){return{GetEnumerator:function(){var bT;bT=bn.Get(bS);return new bx.New(null,null,function(bU){return bT.MoveNext()&&(bU.c=bR(bT.Current()),true);},function(){bT.Dispose();});}};};bk.reduce=function(bR,bS){var bT,bU;bT=bn.Get(bS);try{if(!bT.MoveNext())bk.seqEmpty();bU=bT.Current();while(bT.MoveNext())bU=bR(bU,bT.Current());return bU;}finally{if(typeof bT=="object"&&"Dispose"in bT)bT.Dispose();}};bk.seqEmpty=function(){return j.FailWith("The input sequence was empty.");};bk.iteri=function(bR,bS){var bT,bU;bT=0;bU=bn.Get(bS);try{while(bU.MoveNext()){bR(bT,bU.Current());bT=bT+1;}}finally{if(typeof bU=="object"&&"Dispose"in bU)bU.Dispose();}};bk.append=function(bR,bS){return{GetEnumerator:function(){var bT,bU;bT=bn.Get(bR);bU=[true];return new bx.New(bT,null,function(bV){var bW;return bV.s.MoveNext()?(bV.c=bV.s.Current(),true):(bW=bV.s,!P.Equals(bW,null)?bW.Dispose():void 0,bV.s=null,bU[0]&&(bU[0]=false,bV.s=bn.Get(bS),bV.s.MoveNext()?(bV.c=bV.s.Current(),true):(bV.s.Dispose(),bV.s=null,false)));},function(bV){var bW;bW=bV.s;!P.Equals(bW,null)?bW.Dispose():void 0;});}};};bk.tryFindIndex=function(bR,bS){var bT,bU,bV;bT=bn.Get(bS);try{bU=true;bV=0;while(bU&&bT.MoveNext())if(bR(bT.Current()))bU=false;else bV=bV+1;return bU?null:{$:1,$0:bV};}finally{if(typeof bT=="object"&&"Dispose"in bT)bT.Dispose();}};bl=h.Attribute=bN.Class({get_Body:function(){var bR;bR=this.HtmlProvider.CreateAttribute(this.Name);bR.value=this.Value;return bR;}},i,bl);bl.New=function(bR,bS,bT){var bU;bU=new bl.New$1(bR);bU.Name=bS;bU.Value=bT;return bU;};bl.New$1=bN.Ctor(function(bR){i.New.call(this);this.HtmlProvider=bR;},bl);bm.$cctor=function(){bm.$cctor=a.ignore;bm.Events=new bz.New();};bn.Get=function(bR){return bR instanceof a.Array?bn.ArrayEnumerator(bR):P.Equals(typeof bR,"string")?bn.StringEnumerator(bR):bR.GetEnumerator();};bn.ArrayEnumerator=function(bR){return new bx.New(0,null,function(bS){var bT;bT=bS.s;return bT<_0.length(bR)&&(bS.c=_0.get(bR,bT),bS.s=bT+1,true);},void 0);};bn.StringEnumerator=function(bR){return new bx.New(0,null,function(bS){var bT;bT=bS.s;return bT<bR.length&&(bS.c=bR[bT],bS.s=bT+1,true);},void 0);};bn.Get0=function(bR){return bR instanceof a.Array?bn.ArrayEnumerator(bR):P.Equals(typeof bR,"string")?bn.StringEnumerator(bR):"GetEnumerator0"in bR?bR.GetEnumerator0():bR.GetEnumerator();};bo.$cctor=function(){bo.$cctor=a.ignore;bo.Default=new bA.New();};bq.get_Default=function(){return bq.New(null,null,null,null,null);};bq.New=function(bR,bS,bT,bU,bV){return{Padding:bR,Color:bS,Class:bT,Style:bU,LabelConfiguration:bV};};br.Set=function(bR){return new bt({$:0,$0:new bC({$:1,$0:bR})});};br.Delete=function(){return new bt({$:0,$0:bC.Empty});};br.Apply=function(bR,bS){function bT(bU,bV){return bU.$==1?bV.$==2?new bC({$:2,$0:bT(bU.$0,bV.$0),$1:bV.$1}):bT(new bt({$:1,$0:bU.$0}),new bC({$:2,$0:bC.Empty,$1:bV})):bU.$==2?bV.$==2?new bC({$:2,$0:bV.$0,$1:bT(bU.$0,bV.$1)}):bT(new bt({$:2,$0:bU.$0}),new bC({$:2,$0:bV,$1:bC.Empty})):bU.$0;}return bT(bR,bS);};br.Range=function(bR,bS){var bT,bU,bV,bW,bX,bY,bZ,b0,b1;bT=bR;bU=bS;bV=0;while(true)if(bT.$==1){bW=bT.$0;if(bU.$==2){bX=bU.$0;bT=bW;bU=bX;}else{bT=bW;bU=bC.Empty;}}else if(bT.$==2){bY=bT.$0;if(bU.$==2){bZ=bU.$1;b0=bU.$0;bT=bY;bU=bZ;bV=bV+br.Count(b0);}else{b1=bU;bT=bY;bU=bC.Empty;bV=bV+br.Count(b1);}}else return[bV,br.Count(bU)];};br.ReplacedTree=function(bR,bS){var bT,bU,bV,bW,bX,bY;while(true)if(bR.$==1){bT=bR.$0;if(bS.$==2){bU=bS.$0;bR=bT;bS=bU;}else{bV=bS;bR=new bt({$:1,$0:bT});bS=new bC({$:2,$0:bC.Empty,$1:bV});}}else if(bR.$==2){bW=bR.$0;if(bS.$==2){bX=bS.$1;bR=bW;bS=bX;}else{bY=bS;bR=new bt({$:2,$0:bW});bS=new bC({$:2,$0:bY,$1:bC.Empty});}}else return bS;};br.Count=function(bR){var bS,bT,bU,bV,bW,bX,bY,bZ,b0;bS=0;bT=E.Empty;bU=bR;while(true)if(bU.$==2){bV=bU.$1;bW=bU.$0;bT=new E({$:1,$0:bV,$1:bT});bU=bW;}else{bX=bU;bY=bX.$==0?0:1;if(bT.$==1){bZ=bT.$1;b0=bT.$0;bS=bS+bY;bT=bZ;bU=b0;}else return bS+bY;}};bs.Map=function(bR,bS){return bS.$==1?{$:1,$0:bS.$0}:{$:0,$0:bR(bS.$0)};};bs.Apply=function(bR,bS){return bR.$==1?bS.$==1?{$:1,$0:D.append(bR.$0,bS.$0)}:{$:1,$0:bR.$0}:bS.$==1?{$:1,$0:bS.$0}:{$:0,$0:bR.$0(bS.$0)};};bt=br.Edit=bN.Class({get_Sequence:function(){return this.$==1?this.$0.get_Sequence():this.$==2?this.$0.get_Sequence():this.$0.get_Sequence();},GetEnumerator:function(){return bn.Get(this.get_Sequence());},GetEnumerator0:function(){return bn.Get(this.get_Sequence());}},null,bt);bu.New$1=function(bR,bS){return bu.New(bR,bS);};bu.New=function(bR,bS){return{Element:bR,Label:bS};};bw=bv.Event=bN.Class({Trigger:function(bR){var bS,bT,bU;bS=this.Handlers.slice();for(bT=0,bU=bS.length-1;bT<=bU;bT++)(_0.get(bS,bT))(null,bR);},Subscribe$1:function(bR){var bS;function bT(bV,bW){return bR.OnNext(bW);}function bU(){bS.RemoveHandler$1(bT);}bS=this;this.AddHandler$1(bT);return{Dispose:function(){return bU();}};},AddHandler$1:function(bR){this.Handlers.push(bR);},RemoveHandler$1:function(bR){var bS,bT;bS=bk.tryFindIndex(function(bU){return P.Equals(bR,bU);},this.Handlers);bS==null?void 0:(bT=this.Handlers,bT.splice.apply(bT,[bS.$0,1]));},Dispose:a.ignore,Subscribe:function(bR){return this.Subscribe$1(bR);}},null,bw);bw.New=function(bR){return new bw({Handlers:bR});};bx=bn.T=bN.Class({MoveNext:function(){return this.n(this);},Current:function(){return this.c;},Dispose:function(){if(this.d)this.d(this);}},f,bx);bx.New=bN.Ctor(function(bR,bS,bT,bU){f.New.call(this);this.s=bR;this.c=bS;this.n=bT;this.d=bU;},bx);_0.exists=function(bR,bS){var bT,bU,bV,bW;bT=false;bU=0;bW=_0.length(bS);while(!bT&&bU<bW)if(bR(bS[bU]))bT=true;else bU=bU+1;return bT;};_0.pick=function(bR,bS){var bT;bT=_0.tryPick(bR,bS);return bT==null?j.FailWith("KeyNotFoundException"):bT.$0;};_0.filter=function(bR,bS){var bT,bU,bV;bT=[];for(bU=0,bV=bS.length-1;bU<=bV;bU++)if(bR(bS[bU]))bT.push(bS[bU]);return bT;};_0.tryFindIndex=function(bR,bS){var bT,bU;bT=null;bU=0;while(bU<bS.length&&bT==null){bR(bS[bU])?bT={$:1,$0:bU}:void 0;bU=bU+1;}return bT;};_0.tryPick=function(bR,bS){var bT,bU,bV;bT=null;bU=0;while(bU<bS.length&&bT==null){bV=bR(bS[bU]);bV!=null&&bV.$==1?bT=bV:void 0;bU=bU+1;}return bT;};_0.concat=function(bR){return a.Array.prototype.concat.apply([],_0.ofSeq(bR));};_0.ofSeq=function(bR){var bS,bT;if(bR instanceof a.Array)return bR.slice();else if(bR instanceof E)return _0.ofList(bR);else{bS=[];bT=bn.Get(bR);try{while(bT.MoveNext())bS.push(bT.Current());return bS;}finally{if(typeof bT=="object"&&"Dispose"in bT)bT.Dispose();}}};_0.ofList=function(bR){var bS,bT;bT=[];bS=bR;while(!(bS.$==0)){bT.push(D.head(bS));bS=D.tail(bS);}return bT;};bz=by.JQueryEventSupport=bN.Class({OnMouse:function(bR,bS,bT){a.jQuery(bT.get_Body()).on(bR,function(bU){return bS(bT,{X:bU.pageX,Y:bU.pageY,Event:bU});});},OnClick:function(bR,bS){this.OnMouse("click",function(bT,bU){return(bR(bT))(bU);},bS);},OnChange:function(bR,bS){a.jQuery(bS.get_Body()).on("change",function(bT){return(bR(bS))(bT);});},OnKeyUp:function(bR,bS){a.jQuery(bS.get_Body()).on("keyup",function(bT){return(bR(bS))({KeyCode:bT.keyCode,Event:bT});});}},f,bz);bz.New=bN.Ctor(function(){f.New.call(this);},bz);bA=_8.Reactive=bN.Class({Never:function(){return _8.Never();},Return:function(bR){return _8.Return(bR);},Select:function(bR,bS){return _8.Select(bR,bS);},Heat:function(bR){return _8.Heat(bR);},Switch:function(bR){return _8.Switch(bR);},Merge:function(bR,bS){return _8.Merge(bR,bS);},Concat:function(bR,bS){return _8.Concat(bR,bS);},CombineLatest:function(bR,bS,bT){return _8.CombineLatest(bR,bS,function(bU,bV){return(bT(bU))(bV);});}},f,bA);bA.New=bN.Ctor(function(){f.New.call(this);},bA);bB=u.ElementStore=bN.Class({Remove:function(bR){if(this.store.ContainsKey(bR)){(this.store.get_Item(bR))();this.store.Remove(bR);}},RegisterElement:function(bR,bS){if(!this.store.ContainsKey(bR))this.store.set_Item(bR,bS);},Init:function(){this.store=new bG.New$5();}},f,bB);bB.NewElementStore=function(){var bR;bR=new bB.New();bR.Init();return bR;};bB.New=bN.Ctor(function(){f.New.call(this);},bB);bC=br.Tree=bN.Class({get_Sequence:function(){return this.$==1?[this.$0]:this.$==2?bk.append(this.$0.get_Sequence(),this.$1.get_Sequence()):[];},GetEnumerator:function(){return bn.Get(this.get_Sequence());},GetEnumerator0:function(){return bn.Get(this.get_Sequence());}},null,bC);bC.Empty=new bC({$:0});bE=bD.List=bN.Class({GetEnumerator:function(){return bn.Get(this);},GetEnumerator0:function(){return bn.Get0(this);}},null,bE);bF.observer=function(bR){return{OnCompleted:function(){return null;},OnError:function(){return null;},OnNext:bR};};bG=bD.Dictionary=bN.Class({ContainsKey:function(bR){var bS,bT;bS=this;bT=this.data[this.hash(bR)];return bT==null?false:_0.exists(function(bU){return bS.equals.apply(null,[(j.KeyValue(bU))[0],bR]);},bT);},get_Item:function(bR){return this.get(bR);},Remove:function(bR){return this.remove(bR);},set_Item:function(bR,bS){this.set(bR,bS);},get:function(bR){var bS,bT;bS=this;bT=this.data[this.hash(bR)];return bT==null?bK.notPresent():_0.pick(function(bU){var bV;bV=j.KeyValue(bU);return bS.equals.apply(null,[bV[0],bR])?{$:1,$0:bV[1]}:null;},bT);},remove:function(bR){var bS,bT,bU,bV;bS=this;bT=this.hash(bR);bU=this.data[bT];return bU==null?false:(bV=_0.filter(function(bW){return!bS.equals.apply(null,[(j.KeyValue(bW))[0],bR]);},bU),_0.length(bV)<bU.length&&(this.count=this.count-1,this.data[bT]=bV,true));},set:function(bR,bS){var bT,bU,bV,bW;bT=this;bU=this.hash(bR);bV=this.data[bU];bV==null?(this.count=this.count+1,this.data[bU]=new a.Array({K:bR,V:bS})):(bW=_0.tryFindIndex(function(bX){return bT.equals.apply(null,[(j.KeyValue(bX))[0],bR]);},bV),bW==null?(this.count=this.count+1,bV.push({K:bR,V:bS})):bV[bW.$0]={K:bR,V:bS});},GetEnumerator:function(){return bn.Get0(this);},GetEnumerator0:function(){return bn.Get0(_0.concat(n.GetFieldValues(this.data)));}},f,bG);bG.New$5=bN.Ctor(function(){bG.New$6.call(this,[],P.Equals,P.Hash);},bG);bG.New$6=bN.Ctor(function(bR,bS,bT){var bU,bV;f.New.call(this);this.equals=bS;this.hash=bT;this.count=0;this.data=[];bU=bn.Get(bR);try{while(bU.MoveNext()){bV=bU.Current();this.set(bV.K,bV.V);}}finally{if(typeof bU=="object"&&"Dispose"in bU)bU.Dispose();}},bG);bH.get_Default=function(){return bH.New(null,null,null,null);};bH.New=function(bR,bS,bT,bU){return{Left:bR,Right:bS,Top:bT,Bottom:bU};};bI.get_Default=function(){return bI.New({$:0},{$:1},{$:0});};bI.New=function(bR,bS,bT){return{Align:bR,VerticalAlign:bS,Placement:bT};};bK.notPresent=function(){return j.FailWith("The given key was not present in the dictionary.");};bL.New=function(bR){return{Dispose:function(){return bR();}};};bM.New=function(bR,bS){return{OnNext:bR,OnCompleted:function(){return bS();},OnError:function(){return null;}};};bN.OnLoad(function(){e.Main();});}());


if (typeof IntelliFactory !=='undefined') {
  IntelliFactory.Runtime.ScriptBasePath = '/Content/';
  IntelliFactory.Runtime.Start();
}
